<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>
<TITLE>OZ Programming</TITLE>
</HEAD>

<BODY bgcolor="#FFFFFF" link="#000000" vlink="#000000" alink="#000000" TOPMARGIN=10 BGPROPERTIES="FIXED">

<P>
<A name="top"></A>
</P>
<TABLE width="100%" border="0" bgcolor="#000000" class="flush">
  <TR align="right">
    <TD valign="top"><FONT size="2" face="VERDANA,ARIAL,HELVETICA"> <A href="exarg.html"><IMG src="../../image/previous.gif" alt="前へ" height="20" width="71" border="0"></A>
<A href="index.html"><IMG src="../../image/up.gif" alt="1つ上へ" height="20" width="100" border="0"></A>
<A href="exlog.html"><IMG src="../../image/next.gif" alt="次へ" height="20" width="55" border="0"></A>
</FONT>&nbsp;</TD></TR>
</TABLE>

<P>
<BR>
</P>
<H3><B>OzVMシェルコマンド</B><BR>
</H3>
<BR clear="all">
<P>
ここでは、OzVMシェルの起動とシェルコマンドについて説明しています。<BR>
</P>
<P>
<BR>
<BR>
OzVMをインタラクティブモードで起動すると、OzVMシェルプロンプトが表示されます。そこで、<B>OzVMシェルコマンド</B>を入力すると、複数のアプリケーションを制御しながら実行させることができます。<BR>
OzVMを -f &lt;ファイル名&gt; で起動すると、そのファイルに記述されたコマンドを解釈実行します。<BR>
<BR>
<BR>
</P>
<P>
<BR>
<B>OzVMシェルの起動</B>
</P>
<TABLE>
  <CAPTION align="bottom"></CAPTION>
  <TR>
    <TD width="30"></TD>
    <TD nowrap width="100"><B>oz -i</B></TD>
    <TD nowrap>OzVMシェルが起動し、OzVMシェルプロンプトが表示されます。</TD></TR>
  <TR>
    <TD></TD>
    <TD nowrap><B>oz -f &lt;コマンドファイル名&gt;</B></TD>
    <TD nowrap>OzVMシェルコマンドファイルを実行します。</TD></TR>
</TABLE>

<P>
<BR>
</P>
<DL>
  <DT><B>コマンド</B>
  <DD>
  <DL>
    <DT><B>create &lt;god&gt; &lt;class&gt; [&lt;arg&gt;...]</B>
    <DD>&lt;class&gt;で新しいグローバルオブジェクト&lt;god&gt;を作成します。<BR>
引数&lt;args&gt;に指定した文字列は、コマンドラインとのインタフェースとして、OzVMランタイムサービスを呼び出すことによりプログラム中から獲得することができます。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;new test.sample.abc user.sample.Main a b c
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>go &lt;god&gt; [&lt;arg&gt;...]</B>
    <DD>グローバルオブジェクト&lt;god&gt;を活性化します。<BR>
引数argsに指定した文字列はコマンドラインとのインタフェースとしてランタイムサービスを呼び出すことによりプログラム中から獲得することができます。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;go test.sample.abc
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>stop &lt;god&gt;</B>
    <DD>グローバルオブジェクト&lt;god&gt;を非活性化します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;stop test.sample.abc
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>remove &lt;god&gt;</B>
    <DD>グローバルオブジェクト&lt;god&gt;を削除します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;remove test.sample.abc
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>status &lt;god&gt;</B>
    <DD>&lt;god&gt;で指定されたグローバルオブジェクトの状態を表示します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;status test.sample
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>ls [-a] [&lt;path&gt;]</B>
    <DD>&lt;path&gt;で指定されたobjects下のグローバルオブジェクト一覧を表示します。&lt;path&gt;が省略されると、objects下の一覧を表示します。<BR>
オプション-aを付けると、グローバルオブジェクトの存在の有無にかかわらず、ファイルやディレクトリを表示します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;ls test.sample
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>gols [&lt;god&gt;]</B>
    <DD>活性状態のグローバルオブジェクトの一覧を表示します。<BR>
&lt;god&gt;が指定されると、その&lt;god&gt;が活性状態にあれば表示します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;gols
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>ps [&lt;god&gt;]</B>
    <DD>OzVMのプロセスの一覧を表示します。<BR>
&lt;god&gt;が指定されると、その&lt;god&gt;が起点となっているプロセスの一覧が表示されます。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;ps
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>kill &lt;process&gt;...</B>
    <DD>&lt;process&gt;で識別されるプロセスに対してアボート処理をします。<BR>
&lt;process&gt;には、コマンドpsでpidの項目に表示される値を指定します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;kill 21 32 43
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
<BR>
    <DT><B>exit [&lt;status&gt;]</B>
    <DD>OzVMを終了ステータス&lt;status&gt;で終了させます。<BR>
shellコマンドで実行された場合には、このコマンドは無視されます。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;exit
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>echo [&lt;arg&gt;...]</B>
    <DD>引数を表示します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;echo &quot;It's easy.&quot; Oh, &quot;yes.&quot;
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>debug [&lt;god&gt;] [true|false]</B>
    <DD>デバッグモード/ノーマルモードの指定を行います。true を指定すると、&lt;god&gt;で指定されるグローバルオブジェクトがデバックモードで実行するようになります。<BR>
true, falseが省略されると現在の状態を表示する。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;debug test.sample.abc true
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
<BR>
    <DT><B>ts [&lt;god&gt;]</B>
    <DD>グローバルオブジェクト&lt;god&gt;のセル中のプロセス(スレッド)一覧を表示します。<BR>
&lt;god&gt;が省略されると、全てのプロセス(スレッド)一覧が表示されます。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;ts test.sample
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>address [&lt;god&gt;]</B>
    <DD>OzVMの通信アドレスのキャッシュテーブルを表示します。<BR>
&lt;god&gt;が指定されると、その&lt;god&gt;に対応する通信アドレスがあれば表示します。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <CENTER>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;address
</PRE>
</TD></TR>
    </TABLE>

    </CENTER>
<BR>
    <DT><B>shell &lt;file&gt; [&lt;arg&gt;...]</B>
    <DD>&lt;file&gt;を読み込んで実行します。引数&lt;arg&gt;は&lt;file&gt;中の位置パラメータに対応します。&lt;file&gt;はOSに依存しません。<BR>
<BR>
使用例<IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
Executor&gt;shell test.script user.test.sample.Main a b c
</PRE>
</TD></TR>
    </TABLE>

  </DL>
<BR>
<BR>
  <DT><B>Note:</B>
  <DD><BR>
  <UL>
    <LI><B>-f &lt;コマンドファイル名&gt;</B> でコマンドを実行させるとき、ファイルに書かれた最後のコマンドを実行した時点でOzVMは終了します。コマンドファイル中で起動されたグローバルオブジェクトが非活性化されてのちOzVMを終了させるためには、コマンドファイルの最後あるいは適切な箇所に以下のコマンドを記述してください。<BR>
    <TABLE width="90%" cellpadding="2">
      <TR>
        <TD>
<PRE>
wait
exit 0
</PRE>
</TD></TR>
    </TABLE>

<BR>
    <LI>-v オプションは無視されます。<BR>
<BR>
    <LI>コマンドに指定された以下の文字列は特別な意味を持ちます。<BR>
<BR>
    <TABLE>
      <TR>
        <TD nowrap></TD>
        <TD align="center"></TD>
        <TD nowrap width="7"></TD>
        <TD>空白</TD>
        <TD>16進で20 (スペース)と09 (タブ)のASCII文字は文字列の区切りである。複数の連続した空白は一つの空白として解釈される。</TD></TR>
      <TR>
        <TD nowrap width="15"></TD>
        <TD align="center" width="15">\</TD>
        <TD nowrap></TD>
        <TD nowrap>バックスラッシュ</TD>
        <TD>n 16進で5c (\)は、直後の1文字を文字列の一部であることを指示する。</TD></TR>
      <TR>
        <TD nowrap></TD>
        <TD align="center">；</TD>
        <TD nowrap></TD>
        <TD>セミコロン</TD>
        <TD>16進で3b (;)は行の終わりを示す。文字列の一部であっても行の終わりと解釈する。</TD></TR>
      <TR>
        <TD nowrap></TD>
        <TD align="center">$</TD>
        <TD nowrap></TD>
        <TD></TD>
        <TD>16進で24 ($)はOzVMが解釈するキーワードの始まりであることを示す。$に続いて数値が指定された場合、その文字列を数値で指定された位置の引数と置換する。この引数自体はOzVMの起動時に指定したものである。$0はコマンド名に対応し、$*は、コマンド名以外の全ての引数に対応する。$1は、引数1に対応する。</TD></TR>
      <TR>
        <TD nowrap></TD>
        <TD align="center">#</TD>
        <TD nowrap></TD>
        <TD></TD>
        <TD>16進で23 (#)は、行の先頭の文字、あるいは、行の最初の文字列として指定した場合、行の終わりまでの文字を読み飛ばすことを示す。応用例として、;#はその行の以降の文字列を読み飛ばす。</TD></TR>
      <TR>
        <TD nowrap></TD>
        <TD align="center">&amp;</TD>
        <TD nowrap></TD>
        <TD>アンパーサント</TD>
        <TD>16進で26 (&amp;)は、行の最後の文字、あるいは、行の最後の文字列として指定した場合、可能ならば新しくスレッド(あるいは、プロセス)を生成した上でコマンドを実行する</TD></TR>
    </TABLE>

<BR>
  </UL>
</DL>
<P>
<BR>
<BR>
<BR>
<BR>
</P>
<P>
<FONT size="1" color="BLACK" face="MS SANS SERIF"> <A href="../../copyright-j.html"><FONT size="1" color="BLACK" face="MS SANS SERIF">
(c)<U class="cpslug"> </U></FONT> 1996-1998 IPA, ETL, AT21, FSIABC, FXIS,
InArc, MRI, NUL, SBC, Sharp, TEC, TIS. All rights reserved. </A> </FONT><BR clear="all">
</P>
<TABLE width="100%" border="0" bgcolor="#000000" class="flush">
  <TR align="right">
    <TD valign="top"><FONT size="2" face="VERDANA,ARIAL,HELVETICA"> <A href="#top"><IMG src="../../image/top.gif" alt="トップへ" height="20" width="35" border="0"></A>
<A href="exarg.html"><IMG src="../../image/previous.gif" alt="前へ" height="20" width="71" border="0"></A>
<A href="index.html"><IMG src="../../image/up.gif" alt="1つ上へ" height="20" width="100" border="0"></A>
<A href="exlog.html"><IMG src="../../image/next.gif" alt="次へ" height="20" width="55" border="0"></A>
<A href="mailto:oz-admin@oz.ipa.go.jp"><IMG src="../../image/mail.gif" alt="Contact" height="20" width="80" border="0"></A>
</FONT>&nbsp;</TD></TR>
</TABLE>

</BODY>
</HTML>
