<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>
<TITLE>OZ Language</TITLE>
</HEAD>

<BODY bgcolor="#FFFFFF" link="#000000" vlink="#000000" alink="#000000" TOPMARGIN=10 BGPROPERTIES="FIXED">

<P>
<A name="top"></A>
</P>
<TABLE width="100%" border="0" bgcolor="#000000" class="flush">
  <TR align="right">
    <TD valign="top"><FONT size="2" face="VERDANA,ARIAL,HELVETICA"> <A href="cell.html"><IMG src="../../image/previous.gif" alt="前へ" height="20" width="71" border="0"></A>
<A href="index.html"><IMG src="../../image/up.gif" alt="1つ上へ" height="20" width="100" border="0"></A>
<A href="behavior.html"><IMG src="../../image/next.gif" alt="次へ" height="20" width="55" border="0"></A>
</FONT>&nbsp;</TD></TR>
</TABLE>

<P>
<BR>
</P>
<H3>オブジェクトの生成<BR>
</H3>
<BR clear="all">
<P>
OZシステムにおけるオブジェクトはクラス型のインスタンスです。class型のインスタンスもとcell型のインスタンスもオブジェクトです。<BR>
ここでは、オブジェクトの生成について説明しています。
</P>
<P>
<BR>
<BR>
</P>
<DL>
  <DT>インスタンス生成式
  <DD><BR>
オブジェクトを生成するためにはそのクラス型の変数を用意し、変数に対してコンストラクタを実行します。ここで変数とはアトリビュートあるいはローカル変数です。<BR>
<BR>
変数に対してコンストラクタを実行するための式をインスタンス生成式と呼びます。<BR>
<BR>
インスタンス生成式： <B>クラス型変数 ＝＞ コンストラクタ名( [ 引数リスト
] )</B><BR>
<BR>
インスタンス生成式の実行後、クラス型の変数には、生成したオブジェクトへのリファレンスが保持されています。<BR>
<BR>
</DL>
<P>
<BR>
<BR>
</P>
<P>
例: インスタンス生成式 <IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
ローカル変数
</P>
<CENTER>
<TABLE width="90%" cellpadding="2">
  <TR>
    <TD>
<PRE>
 1: protected SList makeADay() {
 2:     SList aDay;
 3:     aDay=&gt;create(); 
 4:     for(int j=0;j&lt;pieceNum;j++) {
 5:         TimePiece aPiece;
 6:         aPiece = makeATimePiece(j);
 7:         aDay-&gt;pushBack(aPiece);
 8:     }
 9:     return aDay;
10: }
</PRE>
</TD></TR>
</TABLE>

</CENTER>
<UL>
  <LI>2行目でクラス型のローカル変数を宣言しています。<BR>
この文が実行されたとき、ローカル変数はnull値を保持しています。
  <LI>3行目で、SListクラスのインスタンス（=オブジェクト）を生成しています。<BR>
この文の実行によりローカル変数aDayが生成されたオブジェクトのリファレンスを保持します。
  <LI>7行目でそのオブジェクトのメソッドを起動しています。
</UL>
<P>
<BR>
<BR>
</P>
<P>
例: インスタンス生成式 <IMG src="../../image/h_dish.gif" align="middle" height="26" width="31">
アトリビュート
</P>
<CENTER>
<TABLE width="90%" cellpadding="2">
  <TR>
    <TD>
<PRE>
 1: class ScheduleBoard {
 2:     int     initTime;
 3:     int     span;
 4:     int     pieceNum;
 5:     int     days;
 6:     int     grid;
 7:     SList   table;
 8:       
 9:     new create(int date, int gd) {
10:         table=&gt;create(); 
11:         initTime = 8;
12:         span = 12;
13:         grid = gd;
14:         days = date;
15:         setTable();
16:     }
    ....
nn: }
</PRE>
</TD></TR>
</TABLE>

</CENTER>
<UL>
  <LI>9行目から16行目ののScheduleBoardクラスのコンストラクタ宣言でアトリビュートの初期設定が行われています。
  <LI>10行目で、SListクラスのインスタンス（=オブジェクト）を生成しています。<BR>
7行目で宣言されているSListクラスのアトリビュートtableに生成されたオブジェクトのリファレンスが保持されます。
</UL>
<P>
<BR>
<BR>
<BR>
<BR>
</P>
<P>
<FONT size="1" color="BLACK" face="MS SANS SERIF"> <A href="../../copyright-j.html" class="cpslug"><FONT size="1" color="BLACK" face="MS SANS SERIF">
(c)<U class="cpslug"> </U></FONT> 1996-1998 IPA, ETL, AT21, FSIABC, FXIS,
InArc, MRI, NUL, SBC, Sharp, TEC, TIS. All rights reserved. </A> </FONT><BR clear="all">
</P>
<TABLE width="100%" border="0" bgcolor="#000000" class="flush">
  <TR align="right">
    <TD valign="top"><FONT size="2" face="VERDANA,ARIAL,HELVETICA"> <A href="#top"><IMG src="../../image/top.gif" alt="トップへ" height="20" width="35" border="0"></A>
<A href="cell.html"><IMG src="../../image/previous.gif" alt="前へ" height="20" width="71" border="0"></A>
<A href="index.html"><IMG src="../../image/up.gif" alt="1つ上へ" height="20" width="100" border="0"></A>
<A href="behavior.html"><IMG src="../../image/next.gif" alt="次へ" height="20" width="55" border="0"></A>
<A href="mailto:oz-admin@oz.ipa.go.jp"><IMG src="../../image/mail.gif" alt="Contact" height="20" width="80" border="0"></A>
</FONT>&nbsp;</TD></TR>
</TABLE>

</BODY>
</HTML>
